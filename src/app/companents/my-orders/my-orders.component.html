<section class="dp dpy-half">
    <div class="bido-container">
        <!-- <div *ngIf="users.length > 0;"> -->
        <div>
            <div class="header-template">
                <small>SATICI OLARAK</small>
                <h2>Siparişleriniz</h2>
            </div>
            <div class="bd-wrapper-4" *ngIf="incomingOrders.length > 0;">
                <div *ngFor="let order of incomingOrders" class="bd-table basket-table v2">
                    <div class="h">
                        <div>Sipariş No. = {{order.id}}</div>
                        <div>Ürün Bilgileri</div>
                        <div>Adres Bilgileri</div>
                        <div>Telefon</div>
                        <div>Fiyat</div>
                        <div>Sipariş Durumu</div>
                    </div>
                    <div class="b">
                        <div *ngFor="let item of order.orderItems">
                            <div>
                                <img [src]="'http://localhost:5203' + item.product?.mainImage" alt="{{ item.product?.name }}">
                            </div>
                            <div>
                                <strong>{{ item.product?.name }}</strong>
                                <small><strong>{{ item.product?.district }} / {{ item.product?.city }}</strong></small>
                                <span>{{ item.product?.description }}</span>
                            </div>
                            <div>
                                <strong>{{ order.address?.district }} / {{ order.address?.city }}</strong>
                                <span>{{ order.address?.openAddress }}</span>
                                <small><strong>Posta Kodu:</strong> {{ order.address?.postalCode }}</small>
                                <small><strong>Not:</strong> {{ order.note }}</small>
                            </div>
                            <div>{{ item.product?.sellerPhone }}</div>
                            <div>{{ item.product?.discountedPrice }} TL</div>
                            <div>
                                <button *ngIf="order.status == '1'" class="btn single btn-blue no-hover">Hazırlanıyor...</button>
                                <button *ngIf="order.status == '1'" class="btn btn-main" (click)="orderShipped(order)">Kargoya Verildi</button>

                                <button *ngIf="order.status == '2'" class="btn single btn-main no-hover">Kargoya Verildi</button>
                                <button *ngIf="order.status == '2'" class="btn btn-blue no-hover">Teslim Bekleniyor</button>

                                <button *ngIf="order.status == '3'" class="btn btn-green no-hover">Teslim Edilmiştir</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div *ngIf="incomingOrders.length == 0;">
                <h3>Verilen Sipariş Bulunmamaktadır.</h3>
            </div>

            <br><br><br><br><br><br>

            <div class="header-template">
                <small>ALICI OLARAK</small>
                <h2>Siparişleriniz</h2>
            </div>
            <div class="bd-wrapper-4" *ngIf="orders.length > 0;">
                <div *ngFor="let order of orders" class="bd-table basket-table">
                    <div class="h">
                        <div>Sipariş No. = {{order.id}}</div>
                        <div>Ürün Bilgileri</div>
                        <div>Adres</div>
                        <div>Telefon</div>
                        <div>Fiyat</div>
                        <div>Sipariş Durumu</div>
                    </div>
                    <div class="b">
                        <div *ngFor="let item of order.orderItems">
                            <div>
                                <img [src]="'http://localhost:5203' + item.product?.mainImage" alt="{{ item.product?.name }}">
                            </div>
                            <div>
                                <strong>{{ item.product?.name }}</strong>
                                <p>{{ item.product?.description }}</p>
                            </div>
                            <div>{{ item.product?.district }} / {{ item.product?.city }}</div>
                            <div>{{ item.product?.sellerPhone }}</div>
                            <div>{{ item.product?.discountedPrice }} TL</div>
                            <div>
                                <button *ngIf="order.status == '1'" class="btn btn-blue no-hover">Hazırlanıyor...</button>

                                <button *ngIf="order.status == '2'" class="btn single btn-blue no-hover">Kargoya Verildi</button>
                                <button *ngIf="order.status == '2'" class="btn btn-main" (click)="orderDelivered(order)">Teslim Aldım</button>

                                <button *ngIf="order.status == '3'" class="btn btn-green no-hover">Teslim Alınmıştır</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div *ngIf="orders.length == 0;">
                <h3>Verilen Siparişiniz Bulunmamaktadır.</h3>
            </div>
        </div>
        
    </div>
</section>